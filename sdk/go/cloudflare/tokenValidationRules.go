// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cloudflare

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-cloudflare/sdk/v6/go/cloudflare/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-cloudflare/sdk/v6/go/cloudflare"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cloudflare.NewTokenValidationRules(ctx, "example_token_validation_rules", &cloudflare.TokenValidationRulesArgs{
//				ZoneId:      pulumi.String("023e105f4ecef8ad9ca31a8372d0c353"),
//				Action:      pulumi.String("log"),
//				Description: pulumi.String("Long description for Token Validation Rule"),
//				Enabled:     pulumi.Bool(true),
//				Expression:  pulumi.String("is_jwt_valid(\"52973293-cb04-4a97-8f55-e7d2ad1107dd\") or is_jwt_valid(\"46eab8d1-6376-45e3-968f-2c649d77d423\")"),
//				Selector: &cloudflare.TokenValidationRulesSelectorArgs{
//					Excludes: cloudflare.TokenValidationRulesSelectorExcludeArray{
//						&cloudflare.TokenValidationRulesSelectorExcludeArgs{
//							OperationIds: pulumi.StringArray{
//								pulumi.String("f9c5615e-fe15-48ce-bec6-cfc1946f1bec"),
//								pulumi.String("56828eae-035a-4396-ba07-51c66d680a04"),
//							},
//						},
//					},
//					Includes: cloudflare.TokenValidationRulesSelectorIncludeArray{
//						&cloudflare.TokenValidationRulesSelectorIncludeArgs{
//							Host: []string{
//								"v1.example.com",
//								"v2.example.com",
//							},
//						},
//					},
//				},
//				Title: pulumi.String("Example Token Validation Rule"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ```sh
// $ pulumi import cloudflare:index/tokenValidationRules:TokenValidationRules example '<zone_id>/<rule_id>'
// ```
type TokenValidationRules struct {
	pulumi.CustomResourceState

	// Action to take on requests that match operations included in `selector` and fail `expression`.
	// Available values: "log", "block".
	Action    pulumi.StringOutput `pulumi:"action"`
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// A human-readable description that gives more details than `title`.
	Description pulumi.StringOutput `pulumi:"description"`
	// Toggle rule on or off.
	Enabled pulumi.BoolOutput `pulumi:"enabled"`
	// Rule expression. Requests that fail to match this expression will be subject to `action`.
	Expression  pulumi.StringOutput `pulumi:"expression"`
	LastUpdated pulumi.StringOutput `pulumi:"lastUpdated"`
	// Update rule order among zone rules.
	Position TokenValidationRulesPositionPtrOutput `pulumi:"position"`
	// Select operations covered by this rule.
	//
	// For details on selectors, see the [Cloudflare Docs](https://developers.cloudflare.com/api-shield/security/jwt-validation/).
	Selector TokenValidationRulesSelectorOutput `pulumi:"selector"`
	// A human-readable name for the rule.
	Title pulumi.StringOutput `pulumi:"title"`
	// Identifier.
	ZoneId pulumi.StringOutput `pulumi:"zoneId"`
}

// NewTokenValidationRules registers a new resource with the given unique name, arguments, and options.
func NewTokenValidationRules(ctx *pulumi.Context,
	name string, args *TokenValidationRulesArgs, opts ...pulumi.ResourceOption) (*TokenValidationRules, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Action == nil {
		return nil, errors.New("invalid value for required argument 'Action'")
	}
	if args.Description == nil {
		return nil, errors.New("invalid value for required argument 'Description'")
	}
	if args.Enabled == nil {
		return nil, errors.New("invalid value for required argument 'Enabled'")
	}
	if args.Expression == nil {
		return nil, errors.New("invalid value for required argument 'Expression'")
	}
	if args.Selector == nil {
		return nil, errors.New("invalid value for required argument 'Selector'")
	}
	if args.Title == nil {
		return nil, errors.New("invalid value for required argument 'Title'")
	}
	if args.ZoneId == nil {
		return nil, errors.New("invalid value for required argument 'ZoneId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource TokenValidationRules
	err := ctx.RegisterResource("cloudflare:index/tokenValidationRules:TokenValidationRules", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetTokenValidationRules gets an existing TokenValidationRules resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetTokenValidationRules(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *TokenValidationRulesState, opts ...pulumi.ResourceOption) (*TokenValidationRules, error) {
	var resource TokenValidationRules
	err := ctx.ReadResource("cloudflare:index/tokenValidationRules:TokenValidationRules", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering TokenValidationRules resources.
type tokenValidationRulesState struct {
	// Action to take on requests that match operations included in `selector` and fail `expression`.
	// Available values: "log", "block".
	Action    *string `pulumi:"action"`
	CreatedAt *string `pulumi:"createdAt"`
	// A human-readable description that gives more details than `title`.
	Description *string `pulumi:"description"`
	// Toggle rule on or off.
	Enabled *bool `pulumi:"enabled"`
	// Rule expression. Requests that fail to match this expression will be subject to `action`.
	Expression  *string `pulumi:"expression"`
	LastUpdated *string `pulumi:"lastUpdated"`
	// Update rule order among zone rules.
	Position *TokenValidationRulesPosition `pulumi:"position"`
	// Select operations covered by this rule.
	//
	// For details on selectors, see the [Cloudflare Docs](https://developers.cloudflare.com/api-shield/security/jwt-validation/).
	Selector *TokenValidationRulesSelector `pulumi:"selector"`
	// A human-readable name for the rule.
	Title *string `pulumi:"title"`
	// Identifier.
	ZoneId *string `pulumi:"zoneId"`
}

type TokenValidationRulesState struct {
	// Action to take on requests that match operations included in `selector` and fail `expression`.
	// Available values: "log", "block".
	Action    pulumi.StringPtrInput
	CreatedAt pulumi.StringPtrInput
	// A human-readable description that gives more details than `title`.
	Description pulumi.StringPtrInput
	// Toggle rule on or off.
	Enabled pulumi.BoolPtrInput
	// Rule expression. Requests that fail to match this expression will be subject to `action`.
	Expression  pulumi.StringPtrInput
	LastUpdated pulumi.StringPtrInput
	// Update rule order among zone rules.
	Position TokenValidationRulesPositionPtrInput
	// Select operations covered by this rule.
	//
	// For details on selectors, see the [Cloudflare Docs](https://developers.cloudflare.com/api-shield/security/jwt-validation/).
	Selector TokenValidationRulesSelectorPtrInput
	// A human-readable name for the rule.
	Title pulumi.StringPtrInput
	// Identifier.
	ZoneId pulumi.StringPtrInput
}

func (TokenValidationRulesState) ElementType() reflect.Type {
	return reflect.TypeOf((*tokenValidationRulesState)(nil)).Elem()
}

type tokenValidationRulesArgs struct {
	// Action to take on requests that match operations included in `selector` and fail `expression`.
	// Available values: "log", "block".
	Action string `pulumi:"action"`
	// A human-readable description that gives more details than `title`.
	Description string `pulumi:"description"`
	// Toggle rule on or off.
	Enabled bool `pulumi:"enabled"`
	// Rule expression. Requests that fail to match this expression will be subject to `action`.
	Expression string `pulumi:"expression"`
	// Update rule order among zone rules.
	Position *TokenValidationRulesPosition `pulumi:"position"`
	// Select operations covered by this rule.
	//
	// For details on selectors, see the [Cloudflare Docs](https://developers.cloudflare.com/api-shield/security/jwt-validation/).
	Selector TokenValidationRulesSelector `pulumi:"selector"`
	// A human-readable name for the rule.
	Title string `pulumi:"title"`
	// Identifier.
	ZoneId string `pulumi:"zoneId"`
}

// The set of arguments for constructing a TokenValidationRules resource.
type TokenValidationRulesArgs struct {
	// Action to take on requests that match operations included in `selector` and fail `expression`.
	// Available values: "log", "block".
	Action pulumi.StringInput
	// A human-readable description that gives more details than `title`.
	Description pulumi.StringInput
	// Toggle rule on or off.
	Enabled pulumi.BoolInput
	// Rule expression. Requests that fail to match this expression will be subject to `action`.
	Expression pulumi.StringInput
	// Update rule order among zone rules.
	Position TokenValidationRulesPositionPtrInput
	// Select operations covered by this rule.
	//
	// For details on selectors, see the [Cloudflare Docs](https://developers.cloudflare.com/api-shield/security/jwt-validation/).
	Selector TokenValidationRulesSelectorInput
	// A human-readable name for the rule.
	Title pulumi.StringInput
	// Identifier.
	ZoneId pulumi.StringInput
}

func (TokenValidationRulesArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*tokenValidationRulesArgs)(nil)).Elem()
}

type TokenValidationRulesInput interface {
	pulumi.Input

	ToTokenValidationRulesOutput() TokenValidationRulesOutput
	ToTokenValidationRulesOutputWithContext(ctx context.Context) TokenValidationRulesOutput
}

func (*TokenValidationRules) ElementType() reflect.Type {
	return reflect.TypeOf((**TokenValidationRules)(nil)).Elem()
}

func (i *TokenValidationRules) ToTokenValidationRulesOutput() TokenValidationRulesOutput {
	return i.ToTokenValidationRulesOutputWithContext(context.Background())
}

func (i *TokenValidationRules) ToTokenValidationRulesOutputWithContext(ctx context.Context) TokenValidationRulesOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TokenValidationRulesOutput)
}

// TokenValidationRulesArrayInput is an input type that accepts TokenValidationRulesArray and TokenValidationRulesArrayOutput values.
// You can construct a concrete instance of `TokenValidationRulesArrayInput` via:
//
//	TokenValidationRulesArray{ TokenValidationRulesArgs{...} }
type TokenValidationRulesArrayInput interface {
	pulumi.Input

	ToTokenValidationRulesArrayOutput() TokenValidationRulesArrayOutput
	ToTokenValidationRulesArrayOutputWithContext(context.Context) TokenValidationRulesArrayOutput
}

type TokenValidationRulesArray []TokenValidationRulesInput

func (TokenValidationRulesArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TokenValidationRules)(nil)).Elem()
}

func (i TokenValidationRulesArray) ToTokenValidationRulesArrayOutput() TokenValidationRulesArrayOutput {
	return i.ToTokenValidationRulesArrayOutputWithContext(context.Background())
}

func (i TokenValidationRulesArray) ToTokenValidationRulesArrayOutputWithContext(ctx context.Context) TokenValidationRulesArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TokenValidationRulesArrayOutput)
}

// TokenValidationRulesMapInput is an input type that accepts TokenValidationRulesMap and TokenValidationRulesMapOutput values.
// You can construct a concrete instance of `TokenValidationRulesMapInput` via:
//
//	TokenValidationRulesMap{ "key": TokenValidationRulesArgs{...} }
type TokenValidationRulesMapInput interface {
	pulumi.Input

	ToTokenValidationRulesMapOutput() TokenValidationRulesMapOutput
	ToTokenValidationRulesMapOutputWithContext(context.Context) TokenValidationRulesMapOutput
}

type TokenValidationRulesMap map[string]TokenValidationRulesInput

func (TokenValidationRulesMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TokenValidationRules)(nil)).Elem()
}

func (i TokenValidationRulesMap) ToTokenValidationRulesMapOutput() TokenValidationRulesMapOutput {
	return i.ToTokenValidationRulesMapOutputWithContext(context.Background())
}

func (i TokenValidationRulesMap) ToTokenValidationRulesMapOutputWithContext(ctx context.Context) TokenValidationRulesMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TokenValidationRulesMapOutput)
}

type TokenValidationRulesOutput struct{ *pulumi.OutputState }

func (TokenValidationRulesOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**TokenValidationRules)(nil)).Elem()
}

func (o TokenValidationRulesOutput) ToTokenValidationRulesOutput() TokenValidationRulesOutput {
	return o
}

func (o TokenValidationRulesOutput) ToTokenValidationRulesOutputWithContext(ctx context.Context) TokenValidationRulesOutput {
	return o
}

// Action to take on requests that match operations included in `selector` and fail `expression`.
// Available values: "log", "block".
func (o TokenValidationRulesOutput) Action() pulumi.StringOutput {
	return o.ApplyT(func(v *TokenValidationRules) pulumi.StringOutput { return v.Action }).(pulumi.StringOutput)
}

func (o TokenValidationRulesOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *TokenValidationRules) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// A human-readable description that gives more details than `title`.
func (o TokenValidationRulesOutput) Description() pulumi.StringOutput {
	return o.ApplyT(func(v *TokenValidationRules) pulumi.StringOutput { return v.Description }).(pulumi.StringOutput)
}

// Toggle rule on or off.
func (o TokenValidationRulesOutput) Enabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *TokenValidationRules) pulumi.BoolOutput { return v.Enabled }).(pulumi.BoolOutput)
}

// Rule expression. Requests that fail to match this expression will be subject to `action`.
func (o TokenValidationRulesOutput) Expression() pulumi.StringOutput {
	return o.ApplyT(func(v *TokenValidationRules) pulumi.StringOutput { return v.Expression }).(pulumi.StringOutput)
}

func (o TokenValidationRulesOutput) LastUpdated() pulumi.StringOutput {
	return o.ApplyT(func(v *TokenValidationRules) pulumi.StringOutput { return v.LastUpdated }).(pulumi.StringOutput)
}

// Update rule order among zone rules.
func (o TokenValidationRulesOutput) Position() TokenValidationRulesPositionPtrOutput {
	return o.ApplyT(func(v *TokenValidationRules) TokenValidationRulesPositionPtrOutput { return v.Position }).(TokenValidationRulesPositionPtrOutput)
}

// Select operations covered by this rule.
//
// For details on selectors, see the [Cloudflare Docs](https://developers.cloudflare.com/api-shield/security/jwt-validation/).
func (o TokenValidationRulesOutput) Selector() TokenValidationRulesSelectorOutput {
	return o.ApplyT(func(v *TokenValidationRules) TokenValidationRulesSelectorOutput { return v.Selector }).(TokenValidationRulesSelectorOutput)
}

// A human-readable name for the rule.
func (o TokenValidationRulesOutput) Title() pulumi.StringOutput {
	return o.ApplyT(func(v *TokenValidationRules) pulumi.StringOutput { return v.Title }).(pulumi.StringOutput)
}

// Identifier.
func (o TokenValidationRulesOutput) ZoneId() pulumi.StringOutput {
	return o.ApplyT(func(v *TokenValidationRules) pulumi.StringOutput { return v.ZoneId }).(pulumi.StringOutput)
}

type TokenValidationRulesArrayOutput struct{ *pulumi.OutputState }

func (TokenValidationRulesArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TokenValidationRules)(nil)).Elem()
}

func (o TokenValidationRulesArrayOutput) ToTokenValidationRulesArrayOutput() TokenValidationRulesArrayOutput {
	return o
}

func (o TokenValidationRulesArrayOutput) ToTokenValidationRulesArrayOutputWithContext(ctx context.Context) TokenValidationRulesArrayOutput {
	return o
}

func (o TokenValidationRulesArrayOutput) Index(i pulumi.IntInput) TokenValidationRulesOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *TokenValidationRules {
		return vs[0].([]*TokenValidationRules)[vs[1].(int)]
	}).(TokenValidationRulesOutput)
}

type TokenValidationRulesMapOutput struct{ *pulumi.OutputState }

func (TokenValidationRulesMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TokenValidationRules)(nil)).Elem()
}

func (o TokenValidationRulesMapOutput) ToTokenValidationRulesMapOutput() TokenValidationRulesMapOutput {
	return o
}

func (o TokenValidationRulesMapOutput) ToTokenValidationRulesMapOutputWithContext(ctx context.Context) TokenValidationRulesMapOutput {
	return o
}

func (o TokenValidationRulesMapOutput) MapIndex(k pulumi.StringInput) TokenValidationRulesOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *TokenValidationRules {
		return vs[0].(map[string]*TokenValidationRules)[vs[1].(string)]
	}).(TokenValidationRulesOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*TokenValidationRulesInput)(nil)).Elem(), &TokenValidationRules{})
	pulumi.RegisterInputType(reflect.TypeOf((*TokenValidationRulesArrayInput)(nil)).Elem(), TokenValidationRulesArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*TokenValidationRulesMapInput)(nil)).Elem(), TokenValidationRulesMap{})
	pulumi.RegisterOutputType(TokenValidationRulesOutput{})
	pulumi.RegisterOutputType(TokenValidationRulesArrayOutput{})
	pulumi.RegisterOutputType(TokenValidationRulesMapOutput{})
}
