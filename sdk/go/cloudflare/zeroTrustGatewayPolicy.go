// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cloudflare

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-cloudflare/sdk/v5/go/cloudflare/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Cloudflare Teams rule resource. Teams rules comprise secure web gateway policies.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-cloudflare/sdk/v5/go/cloudflare"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cloudflare.NewZeroTrustGatewayPolicy(ctx, "example", &cloudflare.ZeroTrustGatewayPolicyArgs{
//				AccountId:   pulumi.String("f037e56e89293a057740de681ac9abbe"),
//				Name:        pulumi.String("office"),
//				Description: pulumi.String("desc"),
//				Precedence:  pulumi.Int(1),
//				Action:      pulumi.String("block"),
//				Filters: pulumi.StringArray{
//					pulumi.String("http"),
//				},
//				Traffic: pulumi.String("http.request.uri == \"https://www.example.com/malicious\""),
//				RuleSettings: &cloudflare.ZeroTrustGatewayPolicyRuleSettingsArgs{
//					BlockPageEnabled: pulumi.Bool(true),
//					BlockPageReason:  pulumi.String("access not permitted"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ```sh
// $ pulumi import cloudflare:index/zeroTrustGatewayPolicy:ZeroTrustGatewayPolicy example <account_id>/<teams_rule_id>
// ```
type ZeroTrustGatewayPolicy struct {
	pulumi.CustomResourceState

	// The account identifier to target for the resource.
	AccountId pulumi.StringOutput `pulumi:"accountId"`
	// The action executed by matched teams rule. Available values: `allow`, `block`, `safesearch`, `ytrestricted`, `on`, `off`, `scan`, `noscan`, `isolate`, `noisolate`, `override`, `l4Override`, `egress`, `auditSsh`, `resolve`.
	Action pulumi.StringOutput `pulumi:"action"`
	// The description of the teams rule.
	Description pulumi.StringOutput `pulumi:"description"`
	// The wirefilter expression to be used for devicePosture check matching.
	DevicePosture pulumi.StringOutput `pulumi:"devicePosture"`
	// Indicator of rule enablement.
	Enabled pulumi.BoolPtrOutput `pulumi:"enabled"`
	// The protocol or layer to evaluate the traffic and identity expressions.
	Filters pulumi.StringArrayOutput `pulumi:"filters"`
	// The wirefilter expression to be used for identity matching.
	Identity pulumi.StringOutput `pulumi:"identity"`
	// The name of the teams rule.
	Name pulumi.StringOutput `pulumi:"name"`
	// The evaluation precedence of the teams rule.
	Precedence pulumi.IntOutput `pulumi:"precedence"`
	// Additional rule settings.
	RuleSettings ZeroTrustGatewayPolicyRuleSettingsOutput `pulumi:"ruleSettings"`
	// The wirefilter expression to be used for traffic matching.
	Traffic pulumi.StringOutput `pulumi:"traffic"`
	Version pulumi.IntOutput    `pulumi:"version"`
}

// NewZeroTrustGatewayPolicy registers a new resource with the given unique name, arguments, and options.
func NewZeroTrustGatewayPolicy(ctx *pulumi.Context,
	name string, args *ZeroTrustGatewayPolicyArgs, opts ...pulumi.ResourceOption) (*ZeroTrustGatewayPolicy, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.AccountId == nil {
		return nil, errors.New("invalid value for required argument 'AccountId'")
	}
	if args.Action == nil {
		return nil, errors.New("invalid value for required argument 'Action'")
	}
	if args.Description == nil {
		return nil, errors.New("invalid value for required argument 'Description'")
	}
	if args.Name == nil {
		return nil, errors.New("invalid value for required argument 'Name'")
	}
	if args.Precedence == nil {
		return nil, errors.New("invalid value for required argument 'Precedence'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ZeroTrustGatewayPolicy
	err := ctx.RegisterResource("cloudflare:index/zeroTrustGatewayPolicy:ZeroTrustGatewayPolicy", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetZeroTrustGatewayPolicy gets an existing ZeroTrustGatewayPolicy resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetZeroTrustGatewayPolicy(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ZeroTrustGatewayPolicyState, opts ...pulumi.ResourceOption) (*ZeroTrustGatewayPolicy, error) {
	var resource ZeroTrustGatewayPolicy
	err := ctx.ReadResource("cloudflare:index/zeroTrustGatewayPolicy:ZeroTrustGatewayPolicy", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ZeroTrustGatewayPolicy resources.
type zeroTrustGatewayPolicyState struct {
	// The account identifier to target for the resource.
	AccountId *string `pulumi:"accountId"`
	// The action executed by matched teams rule. Available values: `allow`, `block`, `safesearch`, `ytrestricted`, `on`, `off`, `scan`, `noscan`, `isolate`, `noisolate`, `override`, `l4Override`, `egress`, `auditSsh`, `resolve`.
	Action *string `pulumi:"action"`
	// The description of the teams rule.
	Description *string `pulumi:"description"`
	// The wirefilter expression to be used for devicePosture check matching.
	DevicePosture *string `pulumi:"devicePosture"`
	// Indicator of rule enablement.
	Enabled *bool `pulumi:"enabled"`
	// The protocol or layer to evaluate the traffic and identity expressions.
	Filters []string `pulumi:"filters"`
	// The wirefilter expression to be used for identity matching.
	Identity *string `pulumi:"identity"`
	// The name of the teams rule.
	Name *string `pulumi:"name"`
	// The evaluation precedence of the teams rule.
	Precedence *int `pulumi:"precedence"`
	// Additional rule settings.
	RuleSettings *ZeroTrustGatewayPolicyRuleSettings `pulumi:"ruleSettings"`
	// The wirefilter expression to be used for traffic matching.
	Traffic *string `pulumi:"traffic"`
	Version *int    `pulumi:"version"`
}

type ZeroTrustGatewayPolicyState struct {
	// The account identifier to target for the resource.
	AccountId pulumi.StringPtrInput
	// The action executed by matched teams rule. Available values: `allow`, `block`, `safesearch`, `ytrestricted`, `on`, `off`, `scan`, `noscan`, `isolate`, `noisolate`, `override`, `l4Override`, `egress`, `auditSsh`, `resolve`.
	Action pulumi.StringPtrInput
	// The description of the teams rule.
	Description pulumi.StringPtrInput
	// The wirefilter expression to be used for devicePosture check matching.
	DevicePosture pulumi.StringPtrInput
	// Indicator of rule enablement.
	Enabled pulumi.BoolPtrInput
	// The protocol or layer to evaluate the traffic and identity expressions.
	Filters pulumi.StringArrayInput
	// The wirefilter expression to be used for identity matching.
	Identity pulumi.StringPtrInput
	// The name of the teams rule.
	Name pulumi.StringPtrInput
	// The evaluation precedence of the teams rule.
	Precedence pulumi.IntPtrInput
	// Additional rule settings.
	RuleSettings ZeroTrustGatewayPolicyRuleSettingsPtrInput
	// The wirefilter expression to be used for traffic matching.
	Traffic pulumi.StringPtrInput
	Version pulumi.IntPtrInput
}

func (ZeroTrustGatewayPolicyState) ElementType() reflect.Type {
	return reflect.TypeOf((*zeroTrustGatewayPolicyState)(nil)).Elem()
}

type zeroTrustGatewayPolicyArgs struct {
	// The account identifier to target for the resource.
	AccountId string `pulumi:"accountId"`
	// The action executed by matched teams rule. Available values: `allow`, `block`, `safesearch`, `ytrestricted`, `on`, `off`, `scan`, `noscan`, `isolate`, `noisolate`, `override`, `l4Override`, `egress`, `auditSsh`, `resolve`.
	Action string `pulumi:"action"`
	// The description of the teams rule.
	Description string `pulumi:"description"`
	// The wirefilter expression to be used for devicePosture check matching.
	DevicePosture *string `pulumi:"devicePosture"`
	// Indicator of rule enablement.
	Enabled *bool `pulumi:"enabled"`
	// The protocol or layer to evaluate the traffic and identity expressions.
	Filters []string `pulumi:"filters"`
	// The wirefilter expression to be used for identity matching.
	Identity *string `pulumi:"identity"`
	// The name of the teams rule.
	Name string `pulumi:"name"`
	// The evaluation precedence of the teams rule.
	Precedence int `pulumi:"precedence"`
	// Additional rule settings.
	RuleSettings *ZeroTrustGatewayPolicyRuleSettings `pulumi:"ruleSettings"`
	// The wirefilter expression to be used for traffic matching.
	Traffic *string `pulumi:"traffic"`
}

// The set of arguments for constructing a ZeroTrustGatewayPolicy resource.
type ZeroTrustGatewayPolicyArgs struct {
	// The account identifier to target for the resource.
	AccountId pulumi.StringInput
	// The action executed by matched teams rule. Available values: `allow`, `block`, `safesearch`, `ytrestricted`, `on`, `off`, `scan`, `noscan`, `isolate`, `noisolate`, `override`, `l4Override`, `egress`, `auditSsh`, `resolve`.
	Action pulumi.StringInput
	// The description of the teams rule.
	Description pulumi.StringInput
	// The wirefilter expression to be used for devicePosture check matching.
	DevicePosture pulumi.StringPtrInput
	// Indicator of rule enablement.
	Enabled pulumi.BoolPtrInput
	// The protocol or layer to evaluate the traffic and identity expressions.
	Filters pulumi.StringArrayInput
	// The wirefilter expression to be used for identity matching.
	Identity pulumi.StringPtrInput
	// The name of the teams rule.
	Name pulumi.StringInput
	// The evaluation precedence of the teams rule.
	Precedence pulumi.IntInput
	// Additional rule settings.
	RuleSettings ZeroTrustGatewayPolicyRuleSettingsPtrInput
	// The wirefilter expression to be used for traffic matching.
	Traffic pulumi.StringPtrInput
}

func (ZeroTrustGatewayPolicyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*zeroTrustGatewayPolicyArgs)(nil)).Elem()
}

type ZeroTrustGatewayPolicyInput interface {
	pulumi.Input

	ToZeroTrustGatewayPolicyOutput() ZeroTrustGatewayPolicyOutput
	ToZeroTrustGatewayPolicyOutputWithContext(ctx context.Context) ZeroTrustGatewayPolicyOutput
}

func (*ZeroTrustGatewayPolicy) ElementType() reflect.Type {
	return reflect.TypeOf((**ZeroTrustGatewayPolicy)(nil)).Elem()
}

func (i *ZeroTrustGatewayPolicy) ToZeroTrustGatewayPolicyOutput() ZeroTrustGatewayPolicyOutput {
	return i.ToZeroTrustGatewayPolicyOutputWithContext(context.Background())
}

func (i *ZeroTrustGatewayPolicy) ToZeroTrustGatewayPolicyOutputWithContext(ctx context.Context) ZeroTrustGatewayPolicyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ZeroTrustGatewayPolicyOutput)
}

// ZeroTrustGatewayPolicyArrayInput is an input type that accepts ZeroTrustGatewayPolicyArray and ZeroTrustGatewayPolicyArrayOutput values.
// You can construct a concrete instance of `ZeroTrustGatewayPolicyArrayInput` via:
//
//	ZeroTrustGatewayPolicyArray{ ZeroTrustGatewayPolicyArgs{...} }
type ZeroTrustGatewayPolicyArrayInput interface {
	pulumi.Input

	ToZeroTrustGatewayPolicyArrayOutput() ZeroTrustGatewayPolicyArrayOutput
	ToZeroTrustGatewayPolicyArrayOutputWithContext(context.Context) ZeroTrustGatewayPolicyArrayOutput
}

type ZeroTrustGatewayPolicyArray []ZeroTrustGatewayPolicyInput

func (ZeroTrustGatewayPolicyArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ZeroTrustGatewayPolicy)(nil)).Elem()
}

func (i ZeroTrustGatewayPolicyArray) ToZeroTrustGatewayPolicyArrayOutput() ZeroTrustGatewayPolicyArrayOutput {
	return i.ToZeroTrustGatewayPolicyArrayOutputWithContext(context.Background())
}

func (i ZeroTrustGatewayPolicyArray) ToZeroTrustGatewayPolicyArrayOutputWithContext(ctx context.Context) ZeroTrustGatewayPolicyArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ZeroTrustGatewayPolicyArrayOutput)
}

// ZeroTrustGatewayPolicyMapInput is an input type that accepts ZeroTrustGatewayPolicyMap and ZeroTrustGatewayPolicyMapOutput values.
// You can construct a concrete instance of `ZeroTrustGatewayPolicyMapInput` via:
//
//	ZeroTrustGatewayPolicyMap{ "key": ZeroTrustGatewayPolicyArgs{...} }
type ZeroTrustGatewayPolicyMapInput interface {
	pulumi.Input

	ToZeroTrustGatewayPolicyMapOutput() ZeroTrustGatewayPolicyMapOutput
	ToZeroTrustGatewayPolicyMapOutputWithContext(context.Context) ZeroTrustGatewayPolicyMapOutput
}

type ZeroTrustGatewayPolicyMap map[string]ZeroTrustGatewayPolicyInput

func (ZeroTrustGatewayPolicyMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ZeroTrustGatewayPolicy)(nil)).Elem()
}

func (i ZeroTrustGatewayPolicyMap) ToZeroTrustGatewayPolicyMapOutput() ZeroTrustGatewayPolicyMapOutput {
	return i.ToZeroTrustGatewayPolicyMapOutputWithContext(context.Background())
}

func (i ZeroTrustGatewayPolicyMap) ToZeroTrustGatewayPolicyMapOutputWithContext(ctx context.Context) ZeroTrustGatewayPolicyMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ZeroTrustGatewayPolicyMapOutput)
}

type ZeroTrustGatewayPolicyOutput struct{ *pulumi.OutputState }

func (ZeroTrustGatewayPolicyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ZeroTrustGatewayPolicy)(nil)).Elem()
}

func (o ZeroTrustGatewayPolicyOutput) ToZeroTrustGatewayPolicyOutput() ZeroTrustGatewayPolicyOutput {
	return o
}

func (o ZeroTrustGatewayPolicyOutput) ToZeroTrustGatewayPolicyOutputWithContext(ctx context.Context) ZeroTrustGatewayPolicyOutput {
	return o
}

// The account identifier to target for the resource.
func (o ZeroTrustGatewayPolicyOutput) AccountId() pulumi.StringOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.StringOutput { return v.AccountId }).(pulumi.StringOutput)
}

// The action executed by matched teams rule. Available values: `allow`, `block`, `safesearch`, `ytrestricted`, `on`, `off`, `scan`, `noscan`, `isolate`, `noisolate`, `override`, `l4Override`, `egress`, `auditSsh`, `resolve`.
func (o ZeroTrustGatewayPolicyOutput) Action() pulumi.StringOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.StringOutput { return v.Action }).(pulumi.StringOutput)
}

// The description of the teams rule.
func (o ZeroTrustGatewayPolicyOutput) Description() pulumi.StringOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.StringOutput { return v.Description }).(pulumi.StringOutput)
}

// The wirefilter expression to be used for devicePosture check matching.
func (o ZeroTrustGatewayPolicyOutput) DevicePosture() pulumi.StringOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.StringOutput { return v.DevicePosture }).(pulumi.StringOutput)
}

// Indicator of rule enablement.
func (o ZeroTrustGatewayPolicyOutput) Enabled() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.BoolPtrOutput { return v.Enabled }).(pulumi.BoolPtrOutput)
}

// The protocol or layer to evaluate the traffic and identity expressions.
func (o ZeroTrustGatewayPolicyOutput) Filters() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.StringArrayOutput { return v.Filters }).(pulumi.StringArrayOutput)
}

// The wirefilter expression to be used for identity matching.
func (o ZeroTrustGatewayPolicyOutput) Identity() pulumi.StringOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.StringOutput { return v.Identity }).(pulumi.StringOutput)
}

// The name of the teams rule.
func (o ZeroTrustGatewayPolicyOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The evaluation precedence of the teams rule.
func (o ZeroTrustGatewayPolicyOutput) Precedence() pulumi.IntOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.IntOutput { return v.Precedence }).(pulumi.IntOutput)
}

// Additional rule settings.
func (o ZeroTrustGatewayPolicyOutput) RuleSettings() ZeroTrustGatewayPolicyRuleSettingsOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) ZeroTrustGatewayPolicyRuleSettingsOutput { return v.RuleSettings }).(ZeroTrustGatewayPolicyRuleSettingsOutput)
}

// The wirefilter expression to be used for traffic matching.
func (o ZeroTrustGatewayPolicyOutput) Traffic() pulumi.StringOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.StringOutput { return v.Traffic }).(pulumi.StringOutput)
}

func (o ZeroTrustGatewayPolicyOutput) Version() pulumi.IntOutput {
	return o.ApplyT(func(v *ZeroTrustGatewayPolicy) pulumi.IntOutput { return v.Version }).(pulumi.IntOutput)
}

type ZeroTrustGatewayPolicyArrayOutput struct{ *pulumi.OutputState }

func (ZeroTrustGatewayPolicyArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ZeroTrustGatewayPolicy)(nil)).Elem()
}

func (o ZeroTrustGatewayPolicyArrayOutput) ToZeroTrustGatewayPolicyArrayOutput() ZeroTrustGatewayPolicyArrayOutput {
	return o
}

func (o ZeroTrustGatewayPolicyArrayOutput) ToZeroTrustGatewayPolicyArrayOutputWithContext(ctx context.Context) ZeroTrustGatewayPolicyArrayOutput {
	return o
}

func (o ZeroTrustGatewayPolicyArrayOutput) Index(i pulumi.IntInput) ZeroTrustGatewayPolicyOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ZeroTrustGatewayPolicy {
		return vs[0].([]*ZeroTrustGatewayPolicy)[vs[1].(int)]
	}).(ZeroTrustGatewayPolicyOutput)
}

type ZeroTrustGatewayPolicyMapOutput struct{ *pulumi.OutputState }

func (ZeroTrustGatewayPolicyMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ZeroTrustGatewayPolicy)(nil)).Elem()
}

func (o ZeroTrustGatewayPolicyMapOutput) ToZeroTrustGatewayPolicyMapOutput() ZeroTrustGatewayPolicyMapOutput {
	return o
}

func (o ZeroTrustGatewayPolicyMapOutput) ToZeroTrustGatewayPolicyMapOutputWithContext(ctx context.Context) ZeroTrustGatewayPolicyMapOutput {
	return o
}

func (o ZeroTrustGatewayPolicyMapOutput) MapIndex(k pulumi.StringInput) ZeroTrustGatewayPolicyOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ZeroTrustGatewayPolicy {
		return vs[0].(map[string]*ZeroTrustGatewayPolicy)[vs[1].(string)]
	}).(ZeroTrustGatewayPolicyOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ZeroTrustGatewayPolicyInput)(nil)).Elem(), &ZeroTrustGatewayPolicy{})
	pulumi.RegisterInputType(reflect.TypeOf((*ZeroTrustGatewayPolicyArrayInput)(nil)).Elem(), ZeroTrustGatewayPolicyArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ZeroTrustGatewayPolicyMapInput)(nil)).Elem(), ZeroTrustGatewayPolicyMap{})
	pulumi.RegisterOutputType(ZeroTrustGatewayPolicyOutput{})
	pulumi.RegisterOutputType(ZeroTrustGatewayPolicyArrayOutput{})
	pulumi.RegisterOutputType(ZeroTrustGatewayPolicyMapOutput{})
}
