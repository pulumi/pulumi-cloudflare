name: cloudflare_pagerule
runtime: yaml
description: A minimal valid Pulumi program that creates a Cloudflare page rule along with dependencies.
config:
  pulumi:tags:
    value:
      pulumi:template: https://www.pulumi.com/ai/api/project/c5150b89-7479-4d65-8d4a-d5254910a8e5.zip
outputs:
  pageRuleId: ${myPageRule.id}
resources:
  myPageRule:
    options:
      dependsOn:
        - ${myZone}
    properties:
      actions:
        alwaysUseHttps: true
      target: http://example.com/*
      zoneId: ${myZone.id}
    type: cloudflare:PageRule
  myZone:
    properties:
      plan: free
      zone: example.com
    type: cloudflare:Zone
